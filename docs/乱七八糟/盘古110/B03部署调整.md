

### 物品（limbo）

#### 镜像

- 硬狗：ampregistry:5000/goods:release_prod_102_1.1.1_9df0d20_soft-enc
- 软狗：ampregistry:5000/goods:release_prod_102_1.1.1_9df0d20_hard-enc

#### entrypoint

```
./entrypoint.sh
```

#### 命令

```
bash -c "python3 goods/goods_app.py --demod M014800012010000012:8427 --port 8428; echo 'Program exits, sleep 5 seconds before restart' && sleep 5"
```

#### 环境变量

- 根据要部署的路数选择环境变量，比如30路情况

  ```
  PYTHONDONTWRITEBYTECODE=1
  GOODS_DEBUG=1
  MEGVII_ENV_cc8b9ac0=1
  MEGVII_ENV_d5b0bcdd=30
  ```

  具体情查看文档：https://wiki.megvii-inc.com/pages/viewpage.action?pageId=307312884

>镜像地址：https://wiki.megvii-inc.com/pages/viewpage.action?pageId=307312870
>
>部署配置：https://wiki.megvii-inc.com/pages/viewpage.action?pageId=307312884



### 警戒（limbo）

#### 镜像

- 硬狗：ampregistry:5000/megalarm:release_prod_101_3.1.1_81328297_hard-enc
- 软狗：ampregistry:5000/megalarm:release_prod_101_3.1.1_81328297_soft-enc

#### 命令

```
bash -c "/opt/limbo/entrypoint.sh python3 -u run_limbo_app.py --port xxxx --gpu_list 0 --demod_addr $HOSTNAME:xxxx; echo 'Program exits, sleep 5 seconds before restart' && sleep 5"
```

#### 环境变量

```
PPL_PER_GPU=[PPL数量]     #T4卡PPL数量设置为8，2070卡PPL数量设置为4，如果是和物品算法仓混合部署需要参考一卡多算法仓部署文档
```

>  镜像部署：https://wiki.megvii-inc.com/pages/viewpage.action?pageId=307315858
>
> 混部PPL_PER_GPU配置：https://wiki.megvii-inc.com/pages/viewpage.action?pageId=307316515

