## 简单工厂

```java
public class ProductFactory{
    public Product createProduct(String arg){
        if("A".equals(arg)){
            return new ProductA();
        }else if("B".equals(arg)){
            return new ProductB();
        }
        ....
    }
}
```

```java
public class Product{
    
    Product createProduct(String arg){
        if("A".equals(arg)){
            return new ProductA();
        }else if("B".equals(arg)){
            return new ProductB();
        }
        ....
    }
}
```

```java
public class Client{
    public static void main(String[] args){
        ProductFactory factory = new ProductFactory();
        Product product = factory.createProduct("A");
        ....
    }
}
```



## 工厂方法

```java
public FileLoggerFactory implements LoggerFactory{
    public Logger createLogger(){
        return new FileLogger();
    }
}
```

```java
public Client{
    public static void main(String[] args){
        LoggerFactory factory = new FileLoggerFactory();
        Logger logger = factory.createLogger();
        logger.writeLog();
    }
}
```

## 抽象工厂

```java
public class Client{
  public static void main(String[] args){
    // 下面这个其实可以通过配置文件的方式获取到，
    //从而让Client和SummerSkinFactory等具体工厂解耦
    SkinFactory skinFactory = new SummerSkinFactory();
    Button button = skinFactory.createButton();
    button.displayButton();
    TextField textField = new TextField();
    textField.displayTextField();  
    ....
  }
}
```

```java
public class SummerSkinFactory implements SkinFactory{
  public Button createButton(){
    return new SummerButton();
  }
  public TextField createTextField(){
    return new SummerTextField();
  }
  public ComboBox createComboBox(){
    return new SummerComboBox();
  }
}
```

## 单例模式

- 饿汉式

```java
public class Singleton{
    private static Singleton instance = new Singleton();
    private Singleton(){};
    public static Singleton getInstance(){
        return instance;
    }
}
```



- 懒汉式（线程不安全）

```java
public class Singleton{
    private static Singleton instance = null;
  	private Singleton(){}
  	public static Singleton getInstance(){
    	if(instance == null){
      		instance = new Singleton();
    	}
    	return instance;
  	}
}
```

- 懒汉式（线程安全，效率低）

```java
public class Singleton{
    private static Singleton instance = null;
  	private Singleton(){}
  	public static synchronized Singleton getInstance(){
    	if(instance == null){
      		instance = new Singleton();
    	}
    	return instance;
  	}
}
```



