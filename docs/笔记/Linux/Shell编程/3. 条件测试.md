# 条件测试

Shell提供了一组测试运算符。通过这些运算符，Shell程序能够判断某种或者几个条件是否成立。条件测试在各种流程控制语句

# 条件测试语法

条件测试有如下两种语法：

- test expression
- [ expression ]：这其实是[命令，但是为了增加程序的可读性，Shell要求在条件表达式后面追加一个右方括号]来与前面的[命令配对，注意的是，表达式的两边，都有空格

参数expression表示需要进行测试的条件表达式，可以由字符串、整数、文件名，以及各种运算符组成

**返回值**

在shell中，条件测试的返回值和其他编程语言如java等刚好相反，返回0表示表达式成立，非0表示不成立；



# 字符串测试

在Shell中，用户可以通过5种运算符来对字符串进行操作

| 运算符             | 说明                                                     |
| ------------------ | -------------------------------------------------------- |
| string             | 判断指定的字符串是否为空                                 |
| string1 = string2  | 判断字符串string1和string2是否相等，注意，=两边有空格    |
| string1 != string2 | 判断字符串string1和string2是否不相等，注意，!=两边有空格 |
| -n string          | 判断string是否为非空串                                   |
| -z string          | 判断string是否为空串                                     |

示例：

```powershell
#!/bin/bash
a="Hello"
b="Hello"
c="hello"
test $a = $b
echo $?

test "$a" = "$c"
echo $?

[ "$b" = "$c" ]
echo $?

```

结果：

```
0
1
1
```



# 整数测试

整数测试有如下运算符

| 运算符              | 说明                           |
| ------------------- | ------------------------------ |
| number1 -eq number2 | 判断number1和number2是否相等   |
| number1 -ne number2 | 判断number1和number2是否不相等 |
| number1 -gt number2 | 判断number1是否大于number2     |
| number1 -lt number2 | 判断number1是否小于number2     |
| number1 -ge number2 | 判断number1是否大于等于number2 |
| number1 -le number2 | 判断number1是否小于等于number2 |

示例：

```powershell
#!/bin/bash
a=123
b=456
test $a -lt $b
echo $?

[ $a -gt $b ]
echo $?

```

结果：

```
0
1
```

# 文件测试

文件测试有如下一些操作符：

| 操作符  | 说明                       |
| ------- | -------------------------- |
| -a file | 文件是否存在，存在返回0    |
| -b file | 文件是否存在，且为块文件   |
| -c file | 文件是否存在，且为字符文件 |
| -d file | 文件是否存在，且为目录     |
| -e file | 同-a操作符                 |

